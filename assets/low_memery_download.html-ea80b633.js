import{_ as i,W as k,X as r,$ as c,a1 as a,Y as n,a2 as d,Z as s,C as l}from"./framework-aa83d01c.js";const m={},v=d('<h2 id="åŸç†è§£æ" tabindex="-1"><a class="header-anchor" href="#åŸç†è§£æ" aria-hidden="true">#</a> åŸç†è§£æ</h2><h3 id="è¿™ä¸ªåœºæ™¯æ˜¯ä»€ä¹ˆå‘¢" tabindex="-1"><a class="header-anchor" href="#è¿™ä¸ªåœºæ™¯æ˜¯ä»€ä¹ˆå‘¢" aria-hidden="true">#</a> è¿™ä¸ªåœºæ™¯æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</h3><ol><li>ä¸šåŠ¡è¦æ±‚è¿›è¡Œæ•°æ®å¯¼å‡ºï¼Œåªä¸è¿‡æ•°æ®é‡ç‰¹åˆ«å¤§ï¼›</li><li>æ•°æ®åˆ†æå¸ˆéœ€è¦è¿™ä¹ˆå¤šæ•°æ®è¿›è¡Œåˆ†æï¼› æ— è®ºæ˜¯å“ªç§ï¼Œéƒ½éœ€è¦æŠ€æœ¯å¸®å¿™è¿›è¡Œæ•°æ®å¯¼å‡ºï¼Œä½†æ˜¯ä¸€ä¸‹å­æŸ¥è¯¢è¿™ä¹ˆæ•°æ®å ç”¨å†…å­˜è‚¯å®šç‰¹åˆ«å¤§ã€‚å¦‚æœç›´æ¥ä½¿ç”¨ORMæ¡†æ¶è¿›è¡ŒæŸ¥è¯¢ï¼Œå†…å­˜æ€•æ˜¯ä¼šç›´æ¥ç‚¸æ‰ï¼ˆå°¤å…¶æ˜¯åœ¨å¯èƒ½å­˜åœ¨å¹¶å‘çš„åœºæ™¯ä¸‹ï¼‰</li></ol><p>é‡åˆ°ç±»ä¼¼é—®é¢˜ï¼Œå…ˆé—®ä¸€é—®ï¼Œä¸šåŠ¡åœºæ™¯æ˜¯å¦åˆç†ï¼Ÿä¸€èˆ¬excelä¹Ÿä¸èƒ½æ‰“å¼€è¿™ä¹ˆå¤§æ•°æ®é‡çš„æ–‡ä»¶ï¼Œæ®æˆ‘æ‰€çŸ¥ office 2007 ç‰ˆä¹Ÿåªèƒ½å¤Ÿæ‰“å¼€104ä¸‡è¡Œæ•°æ®ï¼Œ03ç‰ˆåªèƒ½æ‰“å¼€65534è¡Œæ•°æ®ã€‚</p><h3 id="ç°æœ‰ormåœ¨è·å–å¤§é‡æ•°æ®å­˜åœ¨çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#ç°æœ‰ormåœ¨è·å–å¤§é‡æ•°æ®å­˜åœ¨çš„é—®é¢˜" aria-hidden="true">#</a> ç°æœ‰ORMåœ¨è·å–å¤§é‡æ•°æ®å­˜åœ¨çš„é—®é¢˜</h3><p>æˆ‘ç»å¸¸ä½¿ç”¨çš„ORMæ¡†æ¶æ˜¯<code>mybatis</code>ï¼Œä¼˜ç‚¹æ˜¯ï¼šè½»é‡ã€å¿«é€Ÿé›†æˆã€SQLå¯å®šåˆ¶åŒ–ç¨‹åº¦é«˜ï¼Œå°¤å…¶æ˜¯åœ¨å¼•å…¥<code>mybatis-plus</code>ä¹‹åï¼Œå•è¡¨çš„å¢åˆ æ”¹æŸ¥ä¹Ÿèƒ½å¤Ÿé€šè¿‡æ— SQLæ¨¡å¼æ‰§è¡Œï¼ŒåŒæ—¶æä¾›æœ‰ä»£ç ç”Ÿæˆå·¥å…·ï¼Œååˆ†æ–¹ä¾¿ã€‚</p><p>MyBtaisåº•å±‚å®ç°æ˜¯é€šè¿‡JDBCæ‰“å¼€è¿æ¥ï¼Œæ‰§è¡Œè¯­å¥ï¼Œè·å–ç»“æœï¼Œå¯¹ç»“æœè¿›è¡Œæ˜ å°„ï¼Œç›´è‡³å°†æ‰€æœ‰ç»“æœå¤„ç†ä¹‹åå†è¿”å›ç»™è°ƒç”¨è€…ä½¿ç”¨ï¼Œæ•°æ®å°‘æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯é‡åˆ°ä¸‡çº§ä»¥ä¸Šæ•°æ®ï¼Œè¿™å°±æœ‰æ¯”è¾ƒå¤§çš„é—®é¢˜äº†ï¼Œæœ€åŸºæœ¬çš„å°±æ˜¯å†…å­˜å ç”¨ã€‚</p><p>åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œæ ¹æœ¬ä¸å¯èƒ½æ‰›ä½è¿™ä¹ˆå¤§é‡çš„æ•°æ®å¯¼å‡ºï¼Œæˆ–è€…è®¡ç®—ã€‚</p><h3 id="è§£å†³åŠæ³•" tabindex="-1"><a class="header-anchor" href="#è§£å†³åŠæ³•" aria-hidden="true">#</a> è§£å†³åŠæ³•</h3><p>é‡‡ç”¨<code>æµå¼æŸ¥è¯¢</code>ï¼Œæˆ–è€…<code>æ¸¸æ ‡æŸ¥è¯¢</code>ï¼Œå¦‚æœä½¿ç”¨å¤§é‡æ•°æ®è¡Œçš„ResultSetï¼Œå¹¶ä¸”æ— æ³•åœ¨JVMä¸­ä¸ºå…¶åˆ†é…æ‰€éœ€è¦çš„å†…å­˜ç©ºé—´ï¼Œåˆ™å¯ä»¥å‘Šè¯‰é©±åŠ¨ç¨‹åºä»ç»“æœæµä¸­è¿”å›ä¸€è¡Œï¼Œå°†è¿™ä¸€è¡Œæ•°æ®å†™å‡ºåˆ°æ–‡ä»¶ä¸­ï¼Œå†™å‡ºåˆ°æµä¸­ä»¥åï¼Œå†è®¿é—®ä¸‹ä¸€è¡Œã€‚</p><div class="hint-container warning"><p class="hint-container-title">æ³¨æ„</p><p>æµå¼æŸ¥è¯¢æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼šå¿…é¡»å…ˆè¯»å–ï¼ˆæˆ–å…³é—­ï¼‰ç»“æœé›†ä¸­çš„æ‰€æœ‰è¡Œï¼Œç„¶åæ‰èƒ½å¯¹è¿æ¥å‘å‡ºå…¶å®ƒæŸ¥è¯¢ï¼Œå¦åˆ™å°†å¼•å‘å¼‚å¸¸</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸è¦å†ç»“æœé›†ä¸­ä½¿ç”¨ç›¸åŒçš„è¿æ¥å¹²åˆ«çš„äº‹å„¿ã€‚</p></div><p>ä½¿ç”¨æµå¼æŸ¥è¯¢ï¼Œåˆ™è¦ä¿æŒå¯¹ç»“æœé›†çš„è¯­å¥æ‰€å¼•ç”¨çš„è¡¨çš„å¹¶å‘è®¿é—®ï¼Œå› ä¸ºæŸ¥è¯¢ä¼šå ç”¨è¿æ¥ï¼Œæ‰€ä»¥å¿…é¡»å°½å¿«å¤„ç†ã€‚</p><h2 id="ç¯å¢ƒæ¨¡æ‹Ÿè¯´æ˜" tabindex="-1"><a class="header-anchor" href="#ç¯å¢ƒæ¨¡æ‹Ÿè¯´æ˜" aria-hidden="true">#</a> ç¯å¢ƒæ¨¡æ‹Ÿè¯´æ˜</h2><p>æ­å»ºä¸€ä¸ªæ–°çš„SpringBoot + Mybatisé¡¹ç›®ï¼Œåœ¨æ•°æ®åº“ä¸­åˆ›å»º500Wæ•°æ®ï¼Œé€šè¿‡æ§åˆ¶JVMå†…å­˜å¤§å°ï¼Œæ¥æ¨¡æ‹Ÿ<code>æ™®é€šæŸ¥è¯¢</code>å’Œ<code>æµå¼æŸ¥è¯¢</code>ä¸‹è½½æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸‹è½½æ ¼å¼csv</p><h3 id="æ•°æ®å‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#æ•°æ®å‡†å¤‡" aria-hidden="true">#</a> æ•°æ®å‡†å¤‡</h3>',15),b=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token function"},"docker"),s(` pull mysql:5.7

`),n("span",{class:"token function"},"docker"),s(" run "),n("span",{class:"token parameter variable"},"-d"),s(),n("span",{class:"token parameter variable"},"--name"),s(" mysql "),n("span",{class:"token parameter variable"},"-p"),s(),n("span",{class:"token number"},"3306"),s(":3306 "),n("span",{class:"token parameter variable"},"-e"),s(),n("span",{class:"token assign-left variable"},"MYSQL_ROOT_PASSWORD"),n("span",{class:"token operator"},"="),s(`root mysql:5.7
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),g=n("div",{class:"language-sql line-numbers-mode","data-ext":"sql"},[n("pre",{class:"language-sql"},[n("code",null,[n("span",{class:"token keyword"},"create"),s(),n("span",{class:"token keyword"},"database"),s(" stream_db "),n("span",{class:"token keyword"},"charset"),s(" utf8"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"CREATE"),s(),n("span",{class:"token keyword"},"TABLE"),s(),n("span",{class:"token identifier"},[n("span",{class:"token punctuation"},"`"),s("t_stream"),n("span",{class:"token punctuation"},"`")]),s(),n("span",{class:"token punctuation"},"("),s(`
  `),n("span",{class:"token identifier"},[n("span",{class:"token punctuation"},"`"),s("id"),n("span",{class:"token punctuation"},"`")]),s(),n("span",{class:"token keyword"},"int"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"10"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"unsigned"),s(),n("span",{class:"token operator"},"NOT"),s(),n("span",{class:"token boolean"},"NULL"),s(),n("span",{class:"token keyword"},"AUTO_INCREMENT"),s(),n("span",{class:"token keyword"},"COMMENT"),s(),n("span",{class:"token string"},"'ä¸»é”®'"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token identifier"},[n("span",{class:"token punctuation"},"`"),s("name"),n("span",{class:"token punctuation"},"`")]),s(),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"255"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"DEFAULT"),s(),n("span",{class:"token boolean"},"NULL"),s(),n("span",{class:"token keyword"},"COMMENT"),s(),n("span",{class:"token string"},"'åç§°'"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token identifier"},[n("span",{class:"token punctuation"},"`"),s("value"),n("span",{class:"token punctuation"},"`")]),s(),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"255"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"DEFAULT"),s(),n("span",{class:"token boolean"},"NULL"),s(),n("span",{class:"token keyword"},"COMMENT"),s(),n("span",{class:"token string"},"'å€¼'"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token identifier"},[n("span",{class:"token punctuation"},"`"),s("create_time"),n("span",{class:"token punctuation"},"`")]),s(),n("span",{class:"token keyword"},"datetime"),s(),n("span",{class:"token operator"},"NOT"),s(),n("span",{class:"token boolean"},"NULL"),s(),n("span",{class:"token keyword"},"DEFAULT"),s(),n("span",{class:"token keyword"},"CURRENT_TIMESTAMP"),s(),n("span",{class:"token keyword"},"COMMENT"),s(),n("span",{class:"token string"},"'åˆ›å»ºæ—¶é—´'"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token identifier"},[n("span",{class:"token punctuation"},"`"),s("update_time"),n("span",{class:"token punctuation"},"`")]),s(),n("span",{class:"token keyword"},"datetime"),s(),n("span",{class:"token operator"},"NOT"),s(),n("span",{class:"token boolean"},"NULL"),s(),n("span",{class:"token keyword"},"DEFAULT"),s(),n("span",{class:"token keyword"},"CURRENT_TIMESTAMP"),s(),n("span",{class:"token keyword"},"ON"),s(),n("span",{class:"token keyword"},"UPDATE"),s(),n("span",{class:"token keyword"},"CURRENT_TIMESTAMP"),s(),n("span",{class:"token keyword"},"COMMENT"),s(),n("span",{class:"token string"},"'æ›´æ–°æ—¶é—´'"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token keyword"},"PRIMARY"),s(),n("span",{class:"token keyword"},"KEY"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token identifier"},[n("span",{class:"token punctuation"},"`"),s("id"),n("span",{class:"token punctuation"},"`")]),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),w=n("p",null,"æ‰¹é‡æ’å…¥æ•°æ®ç¥å™¨ğŸ˜„",-1),y=n("div",{class:"language-sql line-numbers-mode","data-ext":"sql"},[n("pre",{class:"language-sql"},[n("code",null,[n("span",{class:"token keyword"},"TRUNCATE"),s(),n("span",{class:"token keyword"},"TABLE"),s(" t_stream"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"delimiter"),s(),n("span",{class:"token punctuation"},";"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"CREATE"),s(),n("span",{class:"token keyword"},"PROCEDURE"),s(" batch_insert"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"IN"),s(" size "),n("span",{class:"token keyword"},"INT"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token keyword"},"BEGIN"),s(`
	`),n("span",{class:"token keyword"},"DECLARE"),s(" i "),n("span",{class:"token keyword"},"INT"),n("span",{class:"token punctuation"},";"),s(`
	`),n("span",{class:"token keyword"},"SET"),s(" i "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},";"),s(`
	`),n("span",{class:"token keyword"},"START"),s(),n("span",{class:"token keyword"},"TRANSACTION"),n("span",{class:"token punctuation"},";"),s(`
	`),n("span",{class:"token keyword"},"WHILE"),n("span",{class:"token punctuation"},"("),s("i "),n("span",{class:"token operator"},"<="),s(" size"),n("span",{class:"token punctuation"},")"),n("span",{class:"token keyword"},"DO"),s(`
		`),n("span",{class:"token keyword"},"INSERT"),s(),n("span",{class:"token keyword"},"INTO"),s(" t_stream "),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token identifier"},[n("span",{class:"token punctuation"},"`"),s("name"),n("span",{class:"token punctuation"},"`")]),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token identifier"},[n("span",{class:"token punctuation"},"`"),s("value"),n("span",{class:"token punctuation"},"`")]),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"VALUES"),s(),n("span",{class:"token punctuation"},"("),s("i"),n("span",{class:"token punctuation"},","),s(" CONCAT"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'åç§°: '"),n("span",{class:"token punctuation"},","),s(" i"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(" size "),n("span",{class:"token operator"},"+"),s(" i"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
		`),n("span",{class:"token keyword"},"SET"),s(" i"),n("span",{class:"token operator"},"="),s("i"),n("span",{class:"token operator"},"+"),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},";"),s(`
	`),n("span",{class:"token keyword"},"END"),s(),n("span",{class:"token keyword"},"WHILE"),n("span",{class:"token punctuation"},";"),s(`
	`),n("span",{class:"token keyword"},"COMMIT"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"END"),s(`
`),n("span",{class:"token punctuation"},";"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"delimiter"),s(),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"CALL"),s(" batch_insert"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"5000000"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"DROP"),s(),n("span",{class:"token keyword"},"PROCEDURE"),s(),n("span",{class:"token keyword"},"IF"),s(),n("span",{class:"token keyword"},"EXISTS"),s(" batch_insert"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),f=n("h2",{id:"æ¡†æ¶æ­å»º",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#æ¡†æ¶æ­å»º","aria-hidden":"true"},"#"),s(" æ¡†æ¶æ­å»º")],-1),h=n("p",null,"å…¨éƒ¨è´´å‡ºæ¥å¤ªå¤§äº†ï¼Œæ²¡å¿…è¦ï¼Œè´´å‡ºå…³é”®çš„å°±è¡Œ",-1),S=n("div",{class:"language-xml line-numbers-mode","data-ext":"xml"},[n("pre",{class:"language-xml"},[n("code",null,[s(`...
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("parent")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("groupId")]),n("span",{class:"token punctuation"},">")]),s("org.springframework.boot"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("groupId")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("artifactId")]),n("span",{class:"token punctuation"},">")]),s("spring-boot-starter-parent"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("artifactId")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("version")]),n("span",{class:"token punctuation"},">")]),s("2.4.5"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("version")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("relativePath")]),n("span",{class:"token punctuation"},"/>")]),s(),n("span",{class:"token comment"},"<!-- lookup parent from repository -->"),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("parent")]),n("span",{class:"token punctuation"},">")]),s(`
...

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("properties")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("java.version")]),n("span",{class:"token punctuation"},">")]),s("8"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("java.version")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("properties")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("dependencies")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("dependency")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("groupId")]),n("span",{class:"token punctuation"},">")]),s("org.springframework.boot"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("groupId")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("artifactId")]),n("span",{class:"token punctuation"},">")]),s("spring-boot-starter-web"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("artifactId")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("dependency")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("dependency")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("groupId")]),n("span",{class:"token punctuation"},">")]),s("mysql"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("groupId")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("artifactId")]),n("span",{class:"token punctuation"},">")]),s("mysql-connector-java"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("artifactId")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("version")]),n("span",{class:"token punctuation"},">")]),s("8.0.28"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("version")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("scope")]),n("span",{class:"token punctuation"},">")]),s("runtime"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("scope")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("dependency")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("dependency")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("groupId")]),n("span",{class:"token punctuation"},">")]),s("com.baomidou"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("groupId")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("artifactId")]),n("span",{class:"token punctuation"},">")]),s("mybatis-plus-boot-starter"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("artifactId")]),n("span",{class:"token punctuation"},">")]),s(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),s("version")]),n("span",{class:"token punctuation"},">")]),s("3.5.2"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("version")]),n("span",{class:"token punctuation"},">")]),s(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("dependency")]),n("span",{class:"token punctuation"},">")]),s(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),s("dependencies")]),n("span",{class:"token punctuation"},">")]),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),T=n("div",{class:"language-properties line-numbers-mode","data-ext":"properties"},[n("pre",{class:"language-properties"},[n("code",null,[n("span",{class:"token key attr-name"},"spring.datasource.url"),n("span",{class:"token punctuation"},"="),n("span",{class:"token value attr-value"},"jdbc:mysql://localhost:3306/stream_db?characterEncoding=utf8&useSSL=false"),s(`
`),n("span",{class:"token key attr-name"},"spring.datasource.username"),n("span",{class:"token punctuation"},"="),n("span",{class:"token value attr-value"},"root"),s(`
`),n("span",{class:"token key attr-name"},"spring.datasource.password"),n("span",{class:"token punctuation"},"="),n("span",{class:"token value attr-value"},"root"),s(`
`),n("span",{class:"token key attr-name"},"spring.datasource.driver-class-name"),n("span",{class:"token punctuation"},"="),n("span",{class:"token value attr-value"},"com.mysql.cj.jdbc.Driver"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),_=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("example"),n("span",{class:"token punctuation"},"."),s("exportbitdata")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("lombok"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"SneakyThrows")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("beans"),n("span",{class:"token punctuation"},"."),s("factory"),n("span",{class:"token punctuation"},"."),s("annotation"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Autowired")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("http"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"HttpHeaders")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("stereotype"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Controller")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"StopWatch")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("web"),n("span",{class:"token punctuation"},"."),s("bind"),n("span",{class:"token punctuation"},"."),s("annotation"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"RequestMapping")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("web"),n("span",{class:"token punctuation"},"."),s("bind"),n("span",{class:"token punctuation"},"."),s("annotation"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"RequestParam")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("javax"),n("span",{class:"token punctuation"},"."),s("servlet"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"ServletOutputStream")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("javax"),n("span",{class:"token punctuation"},"."),s("servlet"),n("span",{class:"token punctuation"},"."),s("http"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"HttpServletResponse")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("io"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"BufferedWriter")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("io"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"IOException")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("io"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"OutputStreamWriter")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"List")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Optional")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token annotation punctuation"},"@Controller"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"StreamController"),s(),n("span",{class:"token punctuation"},"{"),s(`

    `),n("span",{class:"token annotation punctuation"},"@Autowired"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token class-name"},"StreamMapper"),s(" streamMapper"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token keyword"},"static"),s(),n("span",{class:"token keyword"},"final"),s(),n("span",{class:"token keyword"},"char"),s(),n("span",{class:"token constant"},"CONJ"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token char"},"','"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token annotation punctuation"},"@RequestMapping"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/normal"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"normal"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@RequestParam"),n("span",{class:"token punctuation"},"("),s("required "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token class-name"},"Integer"),s(" size"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"HttpServletResponse"),s(" response"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"IOException"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},"StopWatch"),s(" sw "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"StopWatch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Normal Timer"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        sw`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"setting"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token function"},"downloadSetting"),n("span",{class:"token punctuation"},"("),s("response"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"ServletOutputStream"),s(" out "),n("span",{class:"token operator"},"="),s(" response"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getOutputStream"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"BufferedWriter"),s(" writer "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"BufferedWriter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"OutputStreamWriter"),n("span",{class:"token punctuation"},"("),s("out"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"GB2312"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"1024"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        sw`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"stop"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"try"),s(),n("span",{class:"token punctuation"},"{"),s(`
            sw`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Query Data"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"StreamDTO"),n("span",{class:"token punctuation"},">")]),s(" streamDTOS "),n("span",{class:"token operator"},"="),s(" streamMapper"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"normalSelectLimit"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Optional"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ofNullable"),n("span",{class:"token punctuation"},"("),s("size"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"orElse"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"50"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            sw`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"stop"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            sw`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Write Data"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"StreamDTO"),s(" streamDTO "),n("span",{class:"token operator"},":"),s(" streamDTOS"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token function"},"writeRow"),n("span",{class:"token punctuation"},"("),s("streamDTO"),n("span",{class:"token punctuation"},","),s(" writer"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
            sw`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"stop"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            sw`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Flush Data"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            writer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"flush"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            sw`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"stop"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"finally"),s(),n("span",{class:"token punctuation"},"{"),s(`
            writer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token class-name"},"System"),n("span",{class:"token punctuation"},"."),s("out"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"println"),n("span",{class:"token punctuation"},"("),s("sw"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"prettyPrint"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token annotation punctuation"},"@RequestMapping"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"/stream"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"stream"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@RequestParam"),n("span",{class:"token punctuation"},"("),s("required "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token class-name"},"Integer"),s(" size"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"HttpServletResponse"),s(" response"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"throws"),s(),n("span",{class:"token class-name"},"IOException"),s(),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token class-name"},"StopWatch"),s(" sw "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"StopWatch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Stream Timer"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        sw`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"setting"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token function"},"downloadSetting"),n("span",{class:"token punctuation"},"("),s("response"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"ServletOutputStream"),s(" out "),n("span",{class:"token operator"},"="),s(" response"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getOutputStream"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token class-name"},"BufferedWriter"),s(" writer "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"BufferedWriter"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"new"),s(),n("span",{class:"token class-name"},"OutputStreamWriter"),n("span",{class:"token punctuation"},"("),s("out"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"GB2312"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"1024"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        sw`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"stop"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token keyword"},"try"),s(),n("span",{class:"token punctuation"},"{"),s(`
            sw`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Query&Write Data"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            streamMapper`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"streamSelectLimit"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"Optional"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"ofNullable"),n("span",{class:"token punctuation"},"("),s("size"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"orElse"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"50"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(" resultContext "),n("span",{class:"token operator"},"->"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token class-name"},"StreamDTO"),s(" one "),n("span",{class:"token operator"},"="),s(" resultContext"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getResultObject"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
                `),n("span",{class:"token function"},"writeRow"),n("span",{class:"token punctuation"},"("),s("one"),n("span",{class:"token punctuation"},","),s(" writer"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            sw`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"stop"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            sw`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Flush Data"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            writer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"flush"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            sw`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"stop"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"finally"),s(),n("span",{class:"token punctuation"},"{"),s(`
            writer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
            `),n("span",{class:"token class-name"},"System"),n("span",{class:"token punctuation"},"."),s("out"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"println"),n("span",{class:"token punctuation"},"("),s("sw"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"prettyPrint"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"downloadSetting"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"HttpServletResponse"),s(" response"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        response`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setContentType"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"application/csv;charset=gb2312"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        response`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"setHeader"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"HttpHeaders"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"CONTENT_DISPOSITION"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},'"attachment; filename="'),s(),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token class-name"},"System"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"currentTimeMillis"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},'".csv"'),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`

    `),n("span",{class:"token annotation punctuation"},"@SneakyThrows"),s(`
    `),n("span",{class:"token keyword"},"private"),s(),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"writeRow"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"StreamDTO"),s(" data"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"BufferedWriter"),s(" writer"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"{"),s(`
        writer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"write"),n("span",{class:"token punctuation"},"("),s("data"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getId"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"toString"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        writer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"write"),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"CONJ"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        writer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"write"),n("span",{class:"token punctuation"},"("),s("data"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getName"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        writer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"write"),n("span",{class:"token punctuation"},"("),n("span",{class:"token constant"},"CONJ"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        writer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"write"),n("span",{class:"token punctuation"},"("),s("data"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"getValue"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
        writer`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"write"),n("span",{class:"token punctuation"},"("),n("span",{class:"token char"},"'\\n'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
    `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),O=n("div",{class:"language-java line-numbers-mode","data-ext":"java"},[n("pre",{class:"language-java"},[n("code",null,[n("span",{class:"token keyword"},"package"),s(),n("span",{class:"token namespace"},[s("com"),n("span",{class:"token punctuation"},"."),s("example"),n("span",{class:"token punctuation"},"."),s("exportbitdata")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("apache"),n("span",{class:"token punctuation"},"."),s("ibatis"),n("span",{class:"token punctuation"},"."),s("annotations"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token operator"},"*")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("apache"),n("span",{class:"token punctuation"},"."),s("ibatis"),n("span",{class:"token punctuation"},"."),s("mapping"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"ResultSetType")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("apache"),n("span",{class:"token punctuation"},"."),s("ibatis"),n("span",{class:"token punctuation"},"."),s("session"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"ResultHandler")]),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("org"),n("span",{class:"token punctuation"},"."),s("springframework"),n("span",{class:"token punctuation"},"."),s("stereotype"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"Repository")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token import"},[n("span",{class:"token namespace"},[s("java"),n("span",{class:"token punctuation"},"."),s("util"),n("span",{class:"token punctuation"},".")]),n("span",{class:"token class-name"},"List")]),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token annotation punctuation"},"@Mapper"),s(`
`),n("span",{class:"token annotation punctuation"},"@Repository"),s(`
`),n("span",{class:"token keyword"},"public"),s(),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"StreamMapper"),s(),n("span",{class:"token punctuation"},"{"),s(`

    `),n("span",{class:"token annotation punctuation"},"@Select"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"SELECT * FROM t_stream LIMIT #{size}"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token class-name"},"List"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"StreamDTO"),n("span",{class:"token punctuation"},">")]),s(),n("span",{class:"token function"},"normalSelectLimit"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"int"),s(" size"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

    `),n("span",{class:"token annotation punctuation"},"@Options"),n("span",{class:"token punctuation"},"("),s("resultSetType "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"ResultSetType"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"FORWARD_ONLY"),n("span",{class:"token punctuation"},","),s(" fetchSize "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token class-name"},"Integer"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"MIN_VALUE"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token annotation punctuation"},"@ResultType"),n("span",{class:"token punctuation"},"("),n("span",{class:"token class-name"},"StreamDTO"),n("span",{class:"token punctuation"},"."),n("span",{class:"token keyword"},"class"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token annotation punctuation"},"@Select"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"SELECT * FROM t_stream LIMIT #{size}"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"void"),s(),n("span",{class:"token function"},"streamSelectLimit"),n("span",{class:"token punctuation"},"("),n("span",{class:"token annotation punctuation"},"@Param"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"size"'),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"int"),s(" size"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token class-name"},"ResultHandler"),n("span",{class:"token generics"},[n("span",{class:"token punctuation"},"<"),n("span",{class:"token class-name"},"StreamDTO"),n("span",{class:"token punctuation"},">")]),s(" handler"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),E=n("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[n("pre",{class:"language-bash"},[n("code",null,[n("span",{class:"token comment"},"# å¯åŠ¨å‘½ä»¤"),s(`
`),n("span",{class:"token function"},"java"),s(),n("span",{class:"token parameter variable"},"-Xmx20m"),s(),n("span",{class:"token parameter variable"},"-Xms20m"),s(),n("span",{class:"token parameter variable"},"-jar"),s(` export-bit-data-0.0.1-SNAPSHOT.jar

`),n("span",{class:"token comment"},"# è®¿é—®å‘½ä»¤"),s(`
`),n("span",{class:"token function"},"curl"),s(" http://localhost:8080/normal?size"),n("span",{class:"token operator"},"="),n("span",{class:"token number"},"5000000"),s("  "),n("span",{class:"token comment"},"# è¿™ä¸ªç›´æ¥å‡ºç°OOM"),s(`
`),n("span",{class:"token function"},"curl"),s(" http://localhost:8080/stream?size"),n("span",{class:"token operator"},"="),n("span",{class:"token number"},"5000000"),s("  "),n("span",{class:"token comment"},"# è¿™ä¸ªå¯ä»¥ç›´æ¥è¿è¡Œçš„åˆ°ç»“æœ"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),R=n("p",null,"ä»¥ä¸Šå¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®ºï¼Œæµå¼æŸ¥è¯¢åœ¨è§£å†³ç¼“å­˜å ç”¨æ–¹é¢æœ‰ç€æå¤§çš„ä¼˜åŠ¿ï¼Œå¹¶ä¸”åœ¨æµ‹è¯•å•æ¬¡æŸ¥è¯¢é€Ÿåº¦æ—¶ï¼Œä¼˜åŠ¿ä¹Ÿæ˜¯éå¸¸å¤§çš„ã€‚",-1),N=n("p",null,"æœ¬æ¬¡å·¥ç¨‹æ²¡æœ‰æµ‹è¯•å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„æ‰§è¡Œæ•ˆç‡ï¼Œä»¥åŠåœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹ï¼Œä¼šä¸ä¼šå‡ºç°åˆ«çš„é—®é¢˜ã€‚",-1),I={class:"hint-container warning"},M=n("p",{class:"hint-container-title"},"æ³¨æ„",-1),x=n("p",null,"æµå¼æŸ¥è¯¢æ¯”è¾ƒä¾èµ–CPU",-1),L=n("p",null,"å¯¹æ¯”ä¸€ä¸‹æ™®é€šæŸ¥è¯¢æµç¨‹å’Œæµå¼æŸ¥è¯¢æµç¨‹ï¼š",-1),C=n("h2",{id:"æŠ€æœ¯å®ç°",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#æŠ€æœ¯å®ç°","aria-hidden":"true"},"#"),s(" æŠ€æœ¯å®ç°")],-1);function A(D,j){const p=l("Tabs"),u=l("Mermaid");return k(),r("div",null,[v,c(p,{id:"59",data:[{title:"Dockerå¯åŠ¨MySQL"},{title:"MySQLåˆ›å»ºDBå’Œè¡¨"},{title:"å­˜å‚¨è¿‡ç¨‹"}],active:0},{tab0:a(({title:t,value:e,isActive:o})=>[b]),tab1:a(({title:t,value:e,isActive:o})=>[g]),tab2:a(({title:t,value:e,isActive:o})=>[w,y]),_:1}),f,c(p,{id:"76",data:[{title:"pom.xml"},{title:"application.properties"},{title:"StreamController.java"},{title:"StreamMapper.java"},{title:"æµ‹è¯•å¯åŠ¨è„šæœ¬"}],active:0},{tab0:a(({title:t,value:e,isActive:o})=>[h,S]),tab1:a(({title:t,value:e,isActive:o})=>[T]),tab2:a(({title:t,value:e,isActive:o})=>[_]),tab3:a(({title:t,value:e,isActive:o})=>[O]),tab4:a(({title:t,value:e,isActive:o})=>[E]),_:1},8,["data"]),R,N,n("div",I,[M,x,L,c(u,{id:"mermaid-109",code:"eJzT1dXlKsksyUm1Ung2c93LhlnP5i99sX7R00k9z7Y2Pt3TD+FygZSl5eSXJ2ckFpUo+ARxKQBBcWlSelFiQQaKTrCMi5OhxrOpG571rnu6a7Kmgq6unUJxalFZapGhxov1u5/2T4NIPpux/uWM3U8Xzns+q0VH4fnsLU87NjzfO/H57jlP9ix4sW/y03U9zzom6DgHhD7tX/9k99KnOzc97VgNVPxkV/fTlv2aYLtS81LQXIPscIhrjLC7xgjFNU929EJco/NkR8OzNQshciD23IU6T/etet63/umSlucT2nSe9i4AuglhPRcA+xCrjg=="})]),C])}const P=i(m,[["render",A],["__file","low_memery_download.html.vue"]]);export{P as default};
